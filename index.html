<!doctype html>
<hhtml>
    <head> </head>
    <body>
        <script>
            webephem = {};
        </script>
        <script type="module">
            import init, {
                wasm_query,
                gen_catalog_ptr,
            } from "./pkg/webephem.js";
            let catalog;

            webephem.wasm_query = wasm_query;

            async function run() {
                await init();

                catalog = gen_catalog_ptr();
                console.log(
                    wasm_query(
                        "moon",
                        "equ",
                        5000,
                        undefined,
                        undefined,
                        true,
                        catalog,
                    ),
                );
            }
            run();
        </script>
    </body>
</hhtml>
